<launch>
  <arg name="left_handed" default="false" />

  <node name="flock_driver_node" pkg="flock_driver" type="flock_driver.py" output="screen" />

  <node name="flock_base_node" pkg="flock_base" type="flock_base.py" output="screen">
    <param name="left_handed" type="boolean" value="$(arg left_handed)" />
  </node>

  <node name="detect_aruco_node" pkg="flock_base" type="detect_aruco.py" output="screen" />

  <node name="joystick" pkg="joy" type="joy_node" output="screen" />

  <!-- Run rviz with a canned layout -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find flock_rviz)/cfg/default.rviz" output="screen" />

  <!-- Load robot description -->
  <include file="$(find flock_description)/launch/description.launch" />

  <!-- Static transform odom => marker_frame, transform is x y z yaw pitch roll  -->
  <node name="odom_marker_node" pkg="tf" type="static_transform_publisher" args="0 0 1 -1.57 0 1.57 odom marker_frame 100" />

</launch>